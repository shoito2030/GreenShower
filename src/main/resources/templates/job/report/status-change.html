<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4">
<head>
<meta charset="UTF-8">
<title>就職活動報告承認画面</title>
<th:block th:insert="components/part::frag_mobile"></th:block>
<th:block th:insert="components/part::frag_icon"></th:block>
<th:block th:insert="components/part::frag_style"></th:block>
</head>
<body style="background-color: #DAE8FC;">
	<th:block th:insert="components/part::frag_header"></th:block>
	<p class="h1">就職活動報告 承認</p>
	<div class="container mt-md-5">

		<!-- 共通部品挿入（メモまで） -->
		<th:block th:insert="components/part::frag_detail (${jobReportData})"></th:block>

		<!-- メモ以降追加 -->
		<hr>
		<form method="post"
			th:action="@{/job/report/status_change}">
			<div class="row">
				<div class="col">
					<p class="font-weight-bold h4">現在の報告状態</p>
					<div class="card center-block w-50" style="border-radius: 75px;">
						<div class="card-body">
							<p th:text="${jobReportData.status.value}"></p>
						</div>
					</div>
				</div>
				<div class="col">
					<div class="pt-md-4 mx-auto" style="width: 90px;">
						<p class="font-weight-bold h4">変更</p>
						<select id="status" class="form-control" style="width: 105px;" name="status">
							<option value="7">承認</option>
							<option value="5">差し戻し</option>
							<option value="99">取消し</option>
						</select>
					</div>
				</div>
			</div>
			
			<div id="indicate" style="display:none;">
			
			<div class="row">
				<div class="pt-md-4 mx-auto" style="width: 200px;">
					<p class="font-weight-bold h4">指摘欄</p>
				</div>
			</div>
			
			<div class="row">
				<textarea class="form-control bg-color-white pt-md-4 mx-auto" style="width: 600px; height: 130px;" placeholder="指摘コメントを入力してください" name="indicate"></textarea>
			</div>
			<div th:if="${errmsg}">
				<span th:text="${errmsg}" style="color: red;"></span>
			</div>
			
			</div>
			<br>
			<br>
			<button type="submit" class="btn btn-primary" style="-webkit-appearance: none; width: 200px; height: 45px; font-size: 23px;">登録</button>
		</form>
		<br>
		<br>
		<br>
		<br>
	</div>
	<th:block th:insert="components/part::frag_script"></th:block>
<script type="text/javascript">
document.getElementById("status").addEventListener("change", function(){
	var age_elem = document.getElementById("status");
	var s_value = age_elem.options[age_elem.selectedIndex].value;
	var box_div_elem = document.getElementById("indicate");
	
	if(s_value != "5"){
		box_div_elem.style.display = 'none';
	}else{
		box_div_elem.style.display = 'block';
	}
}, false);
</script>
</body>
</html>
