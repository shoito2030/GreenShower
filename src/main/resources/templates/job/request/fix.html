<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4">

<head>
<meta charset="UTF-8">
<title>就職活動申請修正画面</title>
    
    
<th:block th:insert="components/part::frag_mobile"></th:block>
<th:block th:insert="components/part::frag_icon"></th:block>
<th:block th:insert="components/part::frag_style"></th:block>
</head>

<body>
	<th:block th:insert="components/part::frag_header"></th:block>

	<h1 class="title ml-md-5 text-sm-center text-md-left pl-md-5">就職活動申請 修正</h1>

    <form class="container mt-md-5" method="post" th:action="@{'/job/request/fix/' + ${jobRequestData.apply_id}}">

<th:block role="presentation">
        <div class="row mt-md-4 pr-md-5">
            <div class="col-md-2 pr-md-5">
                <span><small class="text-muted">クラス</small><span
                        class="float-md-right mt-md-1 font-weight-bold h4" th:text="*{jobRequestData.classroom}"></span></span>
            </div>
            <div class="col-md-1 offset-md-1">
                <span><small class="text-muted">番号</small><span
                        class="float-md-right mt-md-1 font-weight-bold h4 " th:text="*{jobRequestData.class_number}"></span></span>
            </div>
            <div class="col-md-2 offset-md-1 pr-md-5">
                <span><small class="text-muted">氏名</small><span
                        class="float-md-right mt-md-1 font-weight-bold h4" th:text="*{jobRequestData.name}"></span></span>
            </div>
        </div>
        </th:block>

        <br>
        <br>

        <div class="form-group row mt-md-5">
            <div class="col-md-3">
                <p class="font-weight-bold h5 mt-md-1">申請種別</p>
                <small class="text-danger">※必須</small>
            </div>
            <div class="col-md-6">
                <div class="form-group input-box">
                    <div class="checkbox-inline" style="margin-right:10%;">
                        <input type="radio" name="apply_type" th:checked="*{jobRequestData.apply_type.id==0}" value="0">
                        <label>個人</label>
                    </div>
                    <div class="checkbox-inline" style="margin-left:10%;">
                        <input type="radio" name="apply_type" th:checked="*{jobRequestData.apply_type.id==1}" value="1">
                        <label>とりまとめ</label>
                    </div>

                    <small class="form-text text-md-left text-danger">エラーメッセージ</small>
                </div>
            </div>
        </div>


        <div class="form-group row">
            <div class="col-md-3">
                <p class="font-weight-bold h5 ">企業名</p>
                <small class="text-danger">※必須</small>
            </div>
            <div class="col-md-6">
                <input type="text" class="form-control" name="company_name" th:field="*{jobRequestData.company_name}">
                <small class="form-text text-md-left text-danger">エラーメッセージ</small>
            </div>
        </div>


        <div class="form-group row mt-md-5">
            <div class="col-md-3">
                <p class="font-weight-bold h5 ">内容</p>
                <small class="text-danger">※必須</small>
            </div>
            <div class="col-md-6">
                <div class="form-group input-box">
                    <div class="checkbox-inline" style="margin-right:5%;">
                        <input type="radio" name="content" th:checked="*{jobRequestData.content.id==1}" value="1">
                        <label>合企</label>
                    </div>
                    <div class="checkbox-inline" style="margin-right:5%;">
                        <input type="radio" name="content" th:checked="*{jobRequestData.content.id==2}" value="2">
                        <label>単独</label>
                    </div>
                    <div class="checkbox-inline" style="margin-right:5%;">
                        <input type="radio" name="content" th:checked="*{jobRequestData.content.id==3}" value="3">
                        <label>試験</label>
                    </div>
                    <div class="checkbox-inline" style="margin-right:5%;">
                        <input type="radio" name="content" th:checked="*{jobRequestData.content.id==99}" value="99">
                        <label>その他</label>
                    </div>

                    <small class="form-text text-md-left text-danger">エラーメッセージ</small>
                </div>
            </div>
        </div>


        <div class="form-group row">
            <div class="col-md-3">
                <p class="font-weight-bold h5 mt-md-5">開始時刻・終了日時</p>
                <small class="text-danger">※必須</small>
            </div>
            <div class="col-md-6">
                <div class="row">
                    <div class="col-md-6">
                        <label>開始</label>
                        <input type="datetime-local" class="form-control mr-md-5" name="date_activity_from" th:field="*{jobRequestData.date_activity_from}">
                        <small class="form-text text-md-left text-danger">エラーメッセージ</small>
                    </div>
                    <div class="col-md-6">
                        <label>終了</label>
                        <input type="datetime-local" class="form-control mr-md-5" name="date_activity_to" th:field="*{jobRequestData.date_activity_to}">
                        <small class="form-text text-md-left text-danger">エラーメッセージ</small>
                    </div>
                </div>
            </div>
        </div>


        <br>
        <br>

        <br>
        <br>

        <div class="form-group row">
            <div class="col-md-3">
                <p class="font-weight-bold h5 ">場所</p>
                <small class="text-danger">※必須</small>
            </div>
            <div class="col-md-6">
                <input type="text" class="form-control" id="loc" name="loc" th:field="*{jobRequestData.loc}">
                <small class="form-text text-md-left text-danger">エラーメッセージ</small>
            </div>
        </div>


        <br>
        <br>

        <div class="form-group row">
            <div class="col-md-3">
                <p class="font-weight-bold h5" style="margin-top: 90px;">手段</p>
                <small class="text-danger">※必須</small>
            </div>
            <div class="col-md-6">
                <div class="form-group input-box pull-left">
                    <div class="row">
                        <div class="col-md-2 mt-md-5">
                            <input type="checkbox" name="way" th:checked="*{jobRequestData.way.id==0}" value="1">
                            <label>欠席</label>
                        </div>
                        <div class="col-md-5">
                            <label>開始</label>
                            <input type="datetime-local" class="form-control" name="date_absence_from" th:field="*{jobRequestData.date_absence_from}">
                            <small class="form-text text-md-left text-danger">エラーメッセージ</small>
                        </div>
                        <div class="col-md-5">
                            <label>終了</label>
                            <input type="datetime-local" class="form-control" name="date_absence_to" th:field="*{jobRequestData.date_absence_to}">
                            <small class="form-text text-md-left text-danger">エラーメッセージ</small>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-2 mt-md-2">
                            <input type="checkbox" name="way" th:checked="*{jobRequestData.way.id==1}" value="2">
                            <label>早退</label>
                        </div>
                        <div class="col-md-5">
                            <input type="datetime-local" class="form-control" name="leave_early_date" th:field="*{jobRequestData.leave_early_date}">
                            <small class="form-text text-md-left text-danger">エラーメッセージ</small>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-2 mt-md-2">
                            <input type="checkbox" name="way" th:checked="*{jobRequestData.way.id==2}" value="3">
                            <label>遅刻</label>
                        </div>
                        <div class="col-md-5">
                            <input type="datetime-local" class="form-control" name="attendance_date" th:field="*{jobRequestData.attendance_date}">
                            <small class="form-text text-md-left text-danger">エラーメッセージ</small>
                        </div>
                    </div>


                    <small class="form-text text-md-left text-danger">エラーメッセージ</small>
                </div>
            </div>
        </div>

        <br>
        <br>

        <div class="form-group row">
            <div class="col-md-3">
                <p class="font-weight-bold h5 mt-md-5">メモ</p>
            </div>
            <div class="col-md-6">
                <textarea class="form-control" id="remark" name="remark" th:field="*{jobRequestData.remark}" rows="5" cols="50"></textarea>
            </div>
        </div>

        <br>
        <br>
        <br>

        <button type="submit" class="btn btn-primary"
            style="-webkit-appearance: none; width: 200px; height: 50px; font-size: 23px;">登録</button>
    </form>

	<th:block th:insert="components/part::frag_script"></th:block>
<script type="text/javascript" th:inline="javascript">
function getUserId(){
    const classi = document.getElementById('classi').value;
    const number = document.getElementById('number').value;
 
    // AjaxにてDemoControllerクラスのsearchメソッドを呼び出す
    let request = new XMLHttpRequest();
    request.open("get", "/search?classi=" + classi + "?number=" + number, true);
    request.send(null);
    request.onload = function (event) {
       // Ajaxが正常終了した場合
       if (request.readyState === 4 && request.status === 200) {
          // 該当するデータが無かった場合
          if(!request.responseText){
              alert("該当するデータはありませんでした");
              return;
          }
          // 該当するデータがあった場合は、取得したUserDataオブジェクトの内容を画面に
          // 表示する。その際、名前・性別・メモはデコードする
          const userId = request.responseText;
          document.getElementById('userId').textContent = userId;
       // Ajaxが異常終了した場合
       }else{
          alert("エラーが発生し、データが取得できませんでしたよ」");
       }
    };
    // Ajaxが異常終了した場合
    request.onerror = function (event) {
       alert("エラーが発生し、データが取得できませんでしたあああ");
    }
}

</script>
</body>

</html>